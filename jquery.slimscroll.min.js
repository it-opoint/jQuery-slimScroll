/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la) - Version: 1.0.9.7 */
;"use strict";(function(g,j,b,n,d,k,f){var c={wheelStep:20,width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"3px",baseline:"3px",start:"top",opacity:0.4,alwaysVisible:k,disableFadeOut:k,railVisible:d,railOpacity:0.2,enableTouch:d,enableWheel:d,mouseSensitive:d,railColor:"#333",useGlow:k,useRounded:d,glowColor:"#fff",glowSize:"3px",classPrefix:"slimScroll",allowPageScroll:k,scroll:0,touchScrollStep:200,fadeDelay:400,hideDelay:1000},a="<div/>",e=function(p){var o=g.extend({},c,p);if(!p.restSize){o.restSize=""+o.size}o.railClass=o.classPrefix+"Rail",o.railWrapperClass=o.classPrefix+"RailDiv",o.barClass=o.classPrefix+"Bar",o.wrapperClass=o.classPrefix+"Div";return o},i=function(o,q){var p={};p["-webkit-"+o]=p["-moz-"+o]=p["-ms-"+o]=p["-o-"+o]=p[o]=(""+q);return p},m=function(s,q,p,r){var o=k!==r?i("border-radius",n(p)+"px"):{};o.width=p;s.css(o);q.css(o)},l=j.document,h=0;g.fn.extend({slimScroll:function(p){var q=this,o=q.data("slimScrollConfig")||e(p);q.each(function(){var Q,t,H,x,D,I,C,v,K=30,G=k,s,F,J=this,S=g(J),r=g(a).addClass(o.railClass).css({display:(o.alwaysVisible&&o.railVisible)?"block":"none",position:"absolute",top:0,bottom:0,right:0,width:o.restSize,background:o.railColor,opacity:o.railOpacity,zIndex:95}),M=g(a).addClass(o.barClass).css({display:o.alwaysVisible?"block":"none",position:"absolute",top:0,right:0,width:o.restSize,background:o.color,opacity:o.opacity,zIndex:99}),E=function(V){var X=0,W;if(!Q){return}W=+new j.Date;if(W<h+10){return}V||(V=j.event);if(V.wheelDelta){X=-V.wheelDelta/120}if(V.detail){X=V.detail/3}if(g(V.target||V.srcTarget).closest("."+o.wrapperClass).is(S.parent())){P(X,d)}if(V.preventDefault&&!G){V.preventDefault()}if(!G){V.returnValue=k}h=W},w=function(){if(J.addEventListener){J.removeEventListener("DOMMouseScroll",E,k);J.removeEventListener("mousewheel",E,k)}else{l.detachEvent("onmousewheel",E)}},y=function(){try{M.draggable("destroy")}catch(V){}M.draggable({axis:"y",containment:"parent",start:function(){x=d},stop:function(){x=k;B()},drag:function(W){P(0,k,k)}});try{r.unbind("mouseenter mouseleave")}catch(V){}r.hover(function(){u();t=o.railVisible},function(){B();t=k});try{M.unbind("mouseenter mouseleave")}catch(V){}M.hover(function(){H=d},function(){H=k});try{S.unbind("mouseenter mouseleave")}catch(V){}S.hover(function(){Q=d;u();B()},function(){Q=k;B()});if(o.mouseSensitive){try{S.unbind("mousemove")}catch(V){}S.mousemove(function(){Q=d;u();B()});try{S.unbind("mouseleave")}catch(V){}S.mouseleave(function(){Q=k;B()})}w();if(o.enableWheel){if(J.addEventListener){J.addEventListener("DOMMouseScroll",E,k);J.addEventListener("mousewheel",E,k)}else{l.attachEvent("onmousewheel",E)}}},R=function(){return S.next()},A=function(){return b.max(R().outerHeight(),S.outerHeight()-2*o.baseline)},P=function(Z,Y,W){var V=A(),aa=b.max(0,V-M.outerHeight()),ab;if(Y){ab=n(M.css("top"))+Z*n(o.wheelStep)/100*V;ab=b.min(b.max(ab,0),aa);ab=(Z>0)?b.ceil(ab):b.floor(ab);M.css({top:ab+"px"})}C=n(M.css("top"))/aa;ab=C*(S[0].scrollHeight-S.outerHeight());if(W){ab=Z;var X=ab/S[0].scrollHeight*V;X=b.min(b.max(X,0),aa);M.css({top:X+"px"})}S.scrollTop(ab);L(d);B()},U=function(V,W){if(0<W.length){if(1<W.length){W=g(W[0])}V+=W.position().top;if(0>V){V=0}}return V},T=function(){I=b.max((S.outerHeight()/S[0].scrollHeight)*A(),K);M.css({height:I+"px"})},O=function(){R().css({visibility:"hidden"})},z=function(){R().css({visibility:"visible"})},N=function(){if(J.queueHide){clearTimeout(J.queueHide);J.queueHide=f}},L=function(V){T();if(I>=A()){G=d;if(d===V){if(o.railVisible){r.hide()}M.hide()}}else{if(o.railVisible){r.stop(d,d).fadeIn(o.fadeDelay)}M.stop(d,d).fadeIn(o.fadeDelay)}z()},u=function(){N();L();if(!G&&C===~~C){G=o.allowPageScroll;if(v!==C){S.trigger("slimscroll",(~~C===0)?"top":"bottom")}}v=C},B=function(){if(!o.alwaysVisible){N();J.queueHide=setTimeout(function(){J.queueHide=f;if(!(o.disableFadeOut&&Q)&&!t&&!H&&!x){if(o.railVisible){r.fadeOut(o.fadeDelay)}M.fadeOut(o.fadeDelay,O)}},o.hideDelay)}};if(S.parent().hasClass(o.classPrefix+"Div")){s=S.scrollTop();r=S.parent().find("."+o.classPrefix+"Rail");M=S.parent().find("."+o.classPrefix+"Bar");T();if(p){if("html" in p){S.html(p.html);w();y()}if("scrollTo" in p){F=typeof p.scrollTo;if("number"===F||("string"===F&&/^\d+(\.\d+)?px?$/.test(F))){s=n(p.scrollTo)}else{s=U(s,g(p.scrollTo,S))}}else{if("scrollBy" in p){s+=n(p.scrollBy)}else{if("destroy" in p){R().remove();S.unbind();S.unwrap();w();return}}}P(s,k,d)}return}else{if(n(o.size)>0){m(r,M,o.restSize,o.useRounded)}if(o.useGlow&&n(o.glowSize)>0){r.css(i("box-shadow",o.glowColor+" 0 0 "+o.glowSize))}}o.height=(o.height==="auto")?S.parent().innerHeight():o.height;S.css({overflow:"hidden",width:o.width,height:o.height});(function(V){V.addClass(o.wrapperClass);V.css({display:"block",position:"relative",overflow:"hidden",width:o.width,height:o.height});S.wrap(V)})(g(a));(function(V,W){W[o.position==="right"?"right":"left"]=o.distance;V.addClass(o.railWrapperClass);V.css(W);V.append(r);V.append(M);if(o.size!=o.restSize){(function(aa,Y,ae){var X,ad,Z,ac,ab=function(){if(!Z){Z=setInterval(ab,100)}else{if(!ac&&!x){clearInterval(Z);Z=undefined;m(r,M,Y,ae)}}};V.hover(function(){ac=d;if(!ad){ad=setTimeout(function(){ad=undefined;if(X){clearTimeout(X);X=undefined}m(r,M,aa,ae)},200)}},function(){ac=k;if(ad){clearTimeout(ad);ad=undefined}if(X){clearTimeout(X)}X=setTimeout(function(){X=undefined;ab()},o.hideDelay/2)})})(o.size,o.restSize,o.useRounded)}S.parent().append(V)})(g(a),{display:"block",position:"absolute",width:o.size,top:o.baseline,bottom:o.baseline,background:"transparent none",zIndex:90});y();if(o.enableTouch){S.bind("touchstart",function(W,V){if(W.originalEvent.touches.length){D=W.originalEvent.touches[0].pageY}});S.bind("touchmove",function(V){V.originalEvent.preventDefault();if(V.originalEvent.touches.length){var W=(D-V.originalEvent.touches[0].pageY)/o.touchScrollStep;P(W,d)}})}T();if(o.start==="bottom"){M.css({top:A()-M.outerHeight()});P(0,d)}else{if(typeof o.start==="object"){P(g(o.start).position().top,f,d);if(!o.alwaysVisible){M.hide()}}}if(!o.alwaysVisible&&!o.railVisible){O()}});q.data("slimScrollConfig",o);return q}});g.fn.extend({slimscroll:g.fn.slimScroll})})(jQuery,window,Math,parseInt,!0,!1,null)