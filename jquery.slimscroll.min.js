/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la) - Version: 1.0.9.5 */
;"use strict";(function(g,j,b,m,d,k,f){var c={wheelStep:20,width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"3px",baseline:"3px",start:"top",opacity:0.4,alwaysVisible:k,disableFadeOut:k,railVisible:d,railOpacity:0.2,enableTouch:d,enableWheel:d,mouseSensitive:d,railColor:"#333",useGlow:k,glowColor:"#fff",glowSize:"3px",classPrefix:"slimScroll",allowPageScroll:k,scroll:0,touchScrollStep:200,fadeDelay:400,hideDelay:1000},a="<div/>",e=function(o){var n=g.extend(c,o);n.railClass=n.classPrefix+"Rail",n.railWrapperClass=n.classPrefix+"RailDiv",n.barClass=n.classPrefix+"Bar",n.wrapperClass=n.classPrefix+"Div";return n},i=function(n,p){var o={};o["-webkit-"+n]=o["-moz-"+n]=o["-ms-"+n]=o["-o-"+n]=o[n]=p;return o},l=j.document,h=0;g.fn.extend({slimScroll:function(o){var n=e(o);this.each(function(){var N,r,F,v,B,G,A,t,I=30,E=k,q,D,H=this,P=g(H),p=g(a).addClass(n.railClass).css({display:(n.alwaysVisible&&n.railVisible)?"block":"none",position:"absolute",top:0,bottom:0,left:0,right:0,background:n.railColor,opacity:n.railOpacity,zIndex:95}),J=g(a).addClass(n.barClass).css({display:n.alwaysVisible?"block":"none",position:"absolute",top:0,left:0,right:0,background:n.color,opacity:n.opacity,zIndex:99}),C=function(S){var U=0,T;if(!N){return}T=+new j.Date;if(T<h+10){return}S||(S=j.event);if(S.wheelDelta){U=-S.wheelDelta/120}if(S.detail){U=S.detail/3}if(g(S.target||S.srcTarget).closest("."+n.wrapperClass).is(P.parent())){M(U,d)}if(S.preventDefault&&!E){S.preventDefault()}if(!E){S.returnValue=k}h=T},u=function(){if(H.addEventListener){H.removeEventListener("DOMMouseScroll",C,k);H.removeEventListener("mousewheel",C,k)}else{l.detachEvent("onmousewheel",C)}},w=function(){try{J.draggable("destroy")}catch(S){}J.draggable({axis:"y",containment:"parent",start:function(){v=d},stop:function(){v=k;z()},drag:function(T){M(0,k,k)}});if(!n.alwaysVisible){try{p.unbind("mouseenter mouseleave")}catch(S){}p.hover(function(){s();r=n.railVisible},function(){z();r=k});try{J.unbind("mouseenter mouseleave")}catch(S){}J.hover(function(){F=d},function(){F=k});try{P.unbind("mouseenter mouseleave")}catch(S){}P.hover(function(){N=d;s();z()},function(){N=k;z()});if(n.mouseSensitive){try{P.unbind("mousemove")}catch(S){}P.mousemove(function(){N=d;s();z()});try{P.unbind("mouseleave")}catch(S){}P.mouseleave(function(){N=k;z()})}}u();if(n.enableWheel){if(H.addEventListener){H.addEventListener("DOMMouseScroll",C,k);H.addEventListener("mousewheel",C,k)}else{l.attachEvent("onmousewheel",C)}}},O=function(){return P.next()},y=function(){return b.max(O().outerHeight(),P.outerHeight()-2*n.baseline)},M=function(W,V,T){var S=y(),X=b.max(0,S-J.outerHeight()),Y;if(V){Y=m(J.css("top"))+W*m(n.wheelStep)/100*S;Y=b.min(b.max(Y,0),X);Y=(W>0)?b.ceil(Y):b.floor(Y);J.css({top:Y+"px"})}A=m(J.css("top"))/X;Y=A*(P[0].scrollHeight-P.outerHeight());if(T){J.hide();if(n.railVisible){p.hide()}Y=W;var U=Y/P[0].scrollHeight*S;U=b.min(b.max(U,0),X);J.css({top:U+"px"})}P.scrollTop(Y);s();z()},R=function(S,T){if(0<T.length){if(1<T.length){T=g(T[0])}S+=T.position().top;if(0>S){S=0}}return S},Q=function(){G=b.max((P.outerHeight()/P[0].scrollHeight)*y(),I);J.css({height:G+"px"})},L=function(){O().css({visibility:"hidden"})},x=function(){O().css({visibility:"visible"})},K=function(){if(H.queueHide){clearTimeout(H.queueHide);H.queueHide=f}},s=function(){K();Q();if(A===~~A){E=n.allowPageScroll;if(t!==A){P.trigger("slimscroll",(~~A===0)?"top":"bottom")}}t=A;if(G>=y()){E=d}else{if(n.railVisible){p.stop(d,d).fadeIn(n.fadeDelay)}J.stop(d,d).fadeIn(n.fadeDelay)}x()},z=function(){if(!n.alwaysVisible){K();H.queueHide=setTimeout(function(){H.queueHide=f;if(!(n.disableFadeOut&&N)&&!r&&!F&&!v){if(n.railVisible){p.fadeOut(n.fadeDelay)}J.fadeOut(n.fadeDelay,L)}},n.hideDelay)}};if(P.parent().hasClass(n.classPrefix+"Div")){q=P.scrollTop();p=P.parent().find("."+n.classPrefix+"Rail");J=P.parent().find("."+n.classPrefix+"Bar");Q();if(o){if("html" in o){P.html(o.html);u();w()}if("scrollTo" in o){D=typeof n.scrollTo;if("number"===D||("string"===D&&/^\d+(\.\d+)?px?$/.test(D))){q=m(n.scrollTo)}else{q=R(q,g(n.scrollTo,P))}}else{if("scrollBy" in o){q+=m(n.scrollBy)}else{if("destroy" in o){O().remove();P.unbind();P.unwrap();u();return}}}M(q,k,d)}return}else{if(m(n.size)>0){D=i("border-radius",n.size);p.css(D);J.css(D)}if(n.useGlow&&m(n.glowSize)>0){p.css(i("box-shadow",n.glowColor+" 0 0 "+n.glowSize))}}n.height=(n.height==="auto")?P.parent().innerHeight():n.height;P.css({overflow:"hidden",width:n.width,height:n.height});(function(S){S.addClass(n.wrapperClass);S.css({display:"block",position:"relative",overflow:"hidden",width:n.width,height:n.height});P.wrap(S)})(g(a));(function(S,T){T[n.position==="right"?"right":"left"]=n.distance;S.addClass(n.railWrapperClass);S.css(T);S.append(p);S.append(J);P.parent().append(S)})(g(a),{display:"block",position:"absolute",width:n.size,top:n.baseline,bottom:n.baseline,background:"transparent none",zIndex:90});w();if(n.enableTouch){P.bind("touchstart",function(T,S){if(T.originalEvent.touches.length){B=T.originalEvent.touches[0].pageY}});P.bind("touchmove",function(S){S.originalEvent.preventDefault();if(S.originalEvent.touches.length){var T=(B-S.originalEvent.touches[0].pageY)/n.touchScrollStep;M(T,d)}})}Q();if(n.start==="bottom"){J.css({top:y()-J.outerHeight()});M(0,d)}else{if(typeof n.start==="object"){M(g(n.start).position().top,f,d);if(!n.alwaysVisible){J.hide()}}}if(!n.alwaysVisible&&!n.railVisible){L()}});return this}});g.fn.extend({slimscroll:g.fn.slimScroll})})(jQuery,window,Math,parseInt,!0,!1,null);